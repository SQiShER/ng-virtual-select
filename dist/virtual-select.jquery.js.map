{"version":3,"sources":["virtual-select.jquery.js"],"names":[],"mappings":"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","file":"virtual-select.jquery.js","sourcesContent":["(function($, document) {\n  const pluginName = `virtualselect`;\n  const defaults = {\n    maxVisibleItems: 10,\n    maxRenderedItems: 30\n  };\n  const Keys = {\n    ArrowUp: 38,\n    ArrowDown: 40,\n    Enter: 13,\n    Escape: 27,\n    Control: 17\n  };\n\n  function Plugin2(element, options) {\n\n    const _options = $.extend({\n      itemHeight: detectItemHeight()\n    }, defaults, options);\n\n    let _state = {\n      activeItemIndex: 0,\n      selectedItemIndex: -1,\n      query: '',\n      itemsLoading: false,\n      itemsLoaded: false,\n      open: false,\n      clickedOutsideElement: false,\n      lastMouseX: 0,\n      lastMouseY: 0\n    };\n\n    function detectItemHeight() {\n      const $sampleItem = $('<div class=\"ui-virtual-select--item\">Text</div>').hide().appendTo(\"body\");\n      const height = $sampleItem.outerHeight();\n      $sampleItem.remove();\n      return height;\n    }\n\n    function indexOfItem(itemToFind = {}) {\n      const dataProvider = _options.dataProvider;\n      const itemToFindIdentity = dataProvider.identity(itemToFind);\n      return dataProvider.availableItems.findIndex(item => dataProvider.identity(item) === itemToFindIdentity);\n    }\n\n    function loadItems(state, options) {\n      if (state.itemsLoaded) {\n        return Promise.resolve();\n      } else {\n        state.itemsLoading = true;\n        return options.dataProvider.load().then(() => {\n          state.itemsLoading = false;\n          state.itemsLoaded = true;\n        });\n      }\n    }\n\n    function Renderer(dom, options) {\n      this.dom = dom;\n      this.options = options;\n      this.renderedState = {};\n    }\n\n    Renderer.prototype.render = function(state) {\n      const self = this;\n\n      if (arguments.length === 0) {\n        // re-render\n        state = this.renderedState;\n      }\n\n      // update search input placeholder\n      if (state.itemsLoaded && state.selectedItemIndex !== this.renderedState.selectedItemIndex) {\n        const selectedItem = this.options.dataProvider.availableItems[state.selectedItemIndex];\n        const displayText = selectedItem ?\n          this.options.dataProvider.displayText(selectedItem) :\n          this.options.dataProvider.noSelectionText();\n        this.dom.$searchInput.attr('placeholder', displayText);\n      }\n\n      // toggle loading indicator and class\n      if (state.itemsLoading) {\n        this.dom.$loadingIndicator.show();\n        this.dom.$container.addClass('loading');\n      } else {\n        this.dom.$loadingIndicator.hide();\n        this.dom.$container.removeClass('loading');\n      }\n\n      // toggle open state and class\n      if (state.open) {\n        this.dom.$items.show();\n        this.dom.$container.addClass('open');\n      } else {\n        this.dom.$items.hide();\n        this.dom.$container.removeClass('open');\n      }\n\n      if (state.open) {\n\n        // okay, i know this is not the best place for this, but I currently don't know where else to put it\n        if (state.query && state.query !== this.renderedState.query) {\n          this.options.dataProvider.filter(state.query);\n        }\n\n        // adjust first item\n        const scrollPosition = this.dom.$items.scrollTop();\n        const firstRenderedItemIndex = Math.max(Math.floor(scrollPosition / this.options.itemHeight) - this.options.maxVisibleItems, 0);\n\n        // adjust scroll position\n        if (state.activeItemIndex !== this.renderedState.activeItemIndex) {\n          const canvasSize = Math.min(this.options.dataProvider.items.length, this.options.maxVisibleItems) * this.options.itemHeight;\n          const targetScrollPosition = state.activeItemIndex * this.options.itemHeight;\n          const a1 = Math.ceil(scrollPosition / this.options.itemHeight) * this.options.itemHeight;\n          const a2 = Math.floor(scrollPosition / this.options.itemHeight) * this.options.itemHeight + canvasSize;\n          if (targetScrollPosition <= a1) {\n            this.dom.$items.scrollTop(targetScrollPosition);\n          } else if (targetScrollPosition >= a2) {\n            this.dom.$items.scrollTop(targetScrollPosition - canvasSize + this.options.itemHeight);\n          }\n        }\n\n        const items = this.options.dataProvider.get(firstRenderedItemIndex, firstRenderedItemIndex + this.options.maxRenderedItems);\n\n        // update items height\n        const itemsElementHeight = Math.min(this.options.maxVisibleItems, this.options.dataProvider.items.length) * this.options.itemHeight;\n        this.dom.$items.css({\n          height: `${itemsElementHeight}px`\n        });\n\n        // update canvas size\n        const firstVisibleItemIndex = Math.max(Math.floor(this.dom.$items.scrollTop() / this.options.itemHeight) - this.options.maxVisibleItems, 0);\n        const canvasElementMarginTop = firstVisibleItemIndex * this.options.itemHeight;\n        const canvasElementHeight = this.options.dataProvider.items.length * this.options.itemHeight - firstVisibleItemIndex * this.options.itemHeight;\n        this.dom.$canvas.css({\n          'height': `${canvasElementHeight}px`,\n          'margin-top': `${canvasElementMarginTop}px`\n        });\n\n        // create dom elements if necessary\n        items.forEach((item, index) => {\n          let $itemElement = this.dom.$canvas.children('.ui-virtual-select--item').eq(index);\n          if ($itemElement.length === 0) {\n            $itemElement = $('<div/>').addClass('ui-virtual-select--item').appendTo(this.dom.$canvas);\n          }\n          // TODO Optimize?\n          $itemElement.data('item', item).data('index', firstRenderedItemIndex + index);\n        });\n\n        // remove excess dom elements\n        this.dom.$canvas.children('.ui-virtual-select--item').slice(items.length).remove();\n\n        // update text\n        this.dom.$canvas.children('.ui-virtual-select--item').each(function() {\n          const $itemElement = $(this);\n          const item = $itemElement.data('item');\n          const displayText = self.options.dataProvider.displayText(item, state.extendedModeEnabled);\n          if ($itemElement.text() !== displayText) {\n            $itemElement.text(displayText).attr('title', displayText);\n          }\n        });\n      }\n\n      // change active class\n      this.dom.$canvas.children('.ui-virtual-select--item').each(function() {\n        const $itemElement = $(this);\n        if ($itemElement.data('index') === state.activeItemIndex && !$itemElement.hasClass('active')) {\n          $itemElement.addClass('active');\n        }\n        if ($itemElement.data('index') !== state.activeItemIndex && $itemElement.hasClass('active')) {\n          $itemElement.removeClass('active');\n        }\n      });\n\n      // update state with rendered one\n      this.renderedState = $.extend({}, state);\n      return this.renderedState;\n    };\n\n    function initDOM($element) {\n      const $container = $('<div/>').addClass('ui-virtual-select');\n      $element.empty().append($container);\n\n      const $searchInput = $('<input type=\"text\"/>').addClass('ui-virtual-select--search-input');\n      const $loadingIndicator = $('<div/>').addClass('ui-virtual-select--loading-indicator').text('Loading...').hide();\n      const $items = $('<div/>').addClass('ui-virtual-select--items').css('overflow-y', 'scroll').hide();\n      $container.append($searchInput, $loadingIndicator, $items);\n\n      const $canvas = $('<div/>').addClass('ui-virtual-select--canvas');\n      $items.append($canvas);\n\n      return {\n        $element,\n        $searchInput,\n        $container,\n        $loadingIndicator,\n        $items,\n        $canvas\n      };\n    }\n\n    function startSelection(state) {\n      const selectedItemIndex = indexOfItem(state.selectedItem);\n      return $.extend(state, {\n        open: true,\n        activeItemIndex: selectedItemIndex >= 0 ? selectedItemIndex : 0,\n        selectedItemIndex\n      });\n    }\n\n    function activatePreviousItem(state) {\n      return $.extend(state, {\n        activeItemIndex: Math.max(state.activeItemIndex - 1, 0)\n      });\n    }\n\n    function activateNextItem(state, options) {\n      return $.extend(state, {\n        activeItemIndex: Math.min(state.activeItemIndex + 1, options.dataProvider.items.length - 1)\n      });\n    }\n\n    function cancel(state) {\n      return $.extend(state, {\n        open: false,\n        query: ''\n      });\n    }\n\n    function selectActiveItem(state) {\n      const targetState = cancel(state);\n      targetState.selectedItemIndex = targetState.activeItemIndex + state.firstRenderedItemIndex;\n      return targetState;\n    }\n\n    function toggleExtendedMode(state) {\n      return $.extend(state, {\n        extendedModeEnabled: !state.extendedModeEnabled\n      });\n    }\n\n    function changeQuery(state, query) {\n      if (query !== state.query) {\n        return $.extend(state, {\n          query: query,\n          activeItemIndex: 0\n        });\n      } else {\n        return state;\n      }\n    }\n\n    function initDOMEventHandlers(dom, state, options, renderer) {\n\n      function noop() {\n      }\n\n      function onlyAfterClickOutside(callback) {\n        return function() {\n          return _state.clickedOutsideElement ? callback() : noop();\n        };\n      }\n\n      function onlyIfMousePositionChanged(callback) {\n        return function(event) {\n          // workaround to prevent scripted scrolling from triggering mousemove events\n          const {lastMouseX: previousX, lastMouseY: previousY} = _state;\n          const {pageX: currentX, pageY: currentY} = event;\n          return (currentX !== previousX || currentY !== previousY) ? callback(event) : noop();\n        };\n      }\n\n      $(document).on('mousedown', function(event) {\n        _state.clickedOutsideElement = !$.contains(element[0], event.target);\n      });\n\n      dom.$searchInput\n        .on('focus', function() {\n          loadItems(_state, options).then(function() {\n            const targetState = startSelection(_state);\n            renderer.render(targetState);\n          });\n          renderer.render(_state);\n        })\n        .on('keydown', function(event) {\n          const key = event.which;\n          switch (key) {\n            case Keys.ArrowUp:\n              renderer.render(activatePreviousItem(_state, options));\n              break;\n            case Keys.ArrowDown:\n              renderer.render(activateNextItem(_state, options));\n              break;\n            case Keys.Enter:\n              renderer.render(selectActiveItem(_state, options));\n              break;\n            case Keys.Escape:\n              renderer.render(cancel(_state, options));\n              break;\n            case Keys.Control:\n              renderer.render(toggleExtendedMode(_state, options));\n              break;\n            default:\n              _state.clickedOutsideElement = true;\n              renderer.render(_state);\n              break;\n          }\n        })\n        .on('blur', onlyAfterClickOutside(function() {\n          const targetState = cancel(_state, options);\n          renderer.render(targetState);\n        }))\n        .on('keyup', function(event) {\n          const query = $(event.target).val();\n          const targetState = changeQuery(_state, query);\n          renderer.render(targetState);\n        });\n\n      dom.$items.on('scroll', _.throttle(() => {\n        renderer.render();\n      }, 10));\n\n      dom.$canvas\n        .on('mousemove', _.throttle(event => {\n          _state.lastMouseX = event.pageX;\n          _state.lastMouseY = event.pageY;\n        }, 50))\n        .on('mousemove', '.ui-virtual-select--item', onlyIfMousePositionChanged(function(event) {\n          const activeItemIndex = $(event.currentTarget).data('index');\n          if (activeItemIndex !== _state.activeItemIndex) {\n            _state.activeItemIndex = activeItemIndex;\n            renderer.render(_state);\n          }\n        }))\n        .on('click', '.ui-virtual-select--item', function(event) {\n          const targetState = cancel(_state);\n          targetState.selectedItemIndex = $(event.currentTarget).data('index'); // TODO probably needs adjustmnts for jquery event filtering\n          renderer.render(targetState);\n        });\n    }\n\n    const _dom = initDOM(element, options);\n    const _renderer = new Renderer(_dom, _options);\n\n    initDOMEventHandlers(_dom, _state, _options, _renderer);\n\n    function changeState(state) {\n      _state = $.extend({}, state);\n      _renderer.render(_state);\n    }\n\n    changeState(_state);\n\n  }\n\n  $.fn[pluginName] = function(options) {\n    return this.each(function() {\n      if (!$.data(this, `plugin_${pluginName}`)) {\n        $.data(this, `plugin_${pluginName}`, new Plugin2($(this), options));\n      }\n    });\n  };\n\n})(jQuery, document);\n"],"sourceRoot":"/source/"}