{"version":3,"sources":["ui-virtual-select.js","ui-virtual-select.tpl.js"],"names":[],"mappings":"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","file":"ui-virtual-select.js","sourcesContent":["'use strict';\n\nangular.module('uiVirtualSelect', [])\n\n  .directive('uiVirtualSelect', ['$timeout', '$document', '$q', function($timeout, $document, $q) {\n\n    const Keys = {\n      ArrowUp: 38,\n      ArrowDown: 40,\n      Enter: 13,\n      Escape: 27\n    };\n\n    function controllerFn() {\n      this.formatSearchInput = (item) => {\n        if (item) {\n          return this.optionsProvider.displayText(item);\n        } else {\n          if (this.optionsProvider.noSelectionText) {\n            return this.optionsProvider.noSelectionText();\n          } else {\n            return '';\n          }\n        }\n      };\n    }\n\n    function linkFn(scope, elem, attrs, [uiVirtualSelectController, ngModelController] , $transclude) {\n      const $select = elem.find('.ui-virtual-select');\n      const $searchInput = elem.find('.ui-virtual-select--search-input');\n      const $canvas = elem.find('.ui-virtual-select--canvas');\n      const $loadingIndicator = elem.find('.ui-virtual-select--loading-indicator')\n        .hide();\n      const $items = elem.find('.ui-virtual-select--items')\n        .css('overflow-y', 'scroll')\n        .hide();\n      const options = {\n        itemHeight: detectItemHeight(),\n        itemsVisible: 10,\n        itemsRendered: 30\n      };\n      const lastKnownMousePosition = {\n        x: 0,\n        y: 0\n      };\n      let scrollTop = 0;\n      let previousSearch = '';\n      let clickedOutsideElement = true;\n      let activeItemIndex = 0;\n      let _itemModels = [];\n\n      class ItemModel {\n        constructor(value, index) {\n          this.index = index;\n          this.value = value;\n        }\n      }\n\n      class LoadingIndicator {\n        constructor($loadingIndicator, $select, $template) {\n          this.$loadingIndicator = $loadingIndicator;\n          this.$select = $select;\n          this.loadingClassName = 'loading';\n          if ($template.length) {\n            $loadingIndicator\n              .empty()\n              .append($template);\n          }\n        }\n        enable() {\n          this.$loadingIndicator.show();\n          this.$select.addClass(this.loadingClassName);\n        }\n        disable() {\n          this.$loadingIndicator.hide();\n          this.$select.removeClass(this.loadingClassName);\n        }\n      }\n\n      const loadingIndicator = new LoadingIndicator(\n        $loadingIndicator,\n        $select,\n        $transclude().siblings('nvs-loading-indicator').eq(0)\n      );\n\n      let loaded = false;\n\n      function doLoad() {\n        if (loaded) {\n          return $q.when();\n        } else {\n          loadingIndicator.enable();\n          return uiVirtualSelectController.optionsProvider.load().then(() => {\n            loaded = true;\n            loadingIndicator.disable();\n            uiVirtualSelectController.onLoadedCallback({});\n          });\n        }\n      }\n\n      $searchInput.on('focus', () => {\n        doLoad().then(() => {\n          updateView();\n          open();\n          scope.$evalAsync(adjustScrollPosition);\n        });\n\n        $searchInput.on('blur', () => {\n          if (clickedOutsideElement) {\n            clearSearchInput(true);\n            close();\n          }\n          $searchInput.off('keydown keyup blur');\n          $document.off('mousedown');\n        });\n\n        $searchInput.on('keyup', event => {\n          let search = $(event.target).val();\n          if (search !== previousSearch) {\n            uiVirtualSelectController.optionsProvider.filter(search);\n            previousSearch = search;\n            activeItemIndex = 0;\n            updateView();\n            scrollTo(0);\n          }\n        });\n\n        $searchInput.on('keydown', event => {\n          switch (event.which) {\n            case Keys.ArrowUp:\n              return activatePreviousItem();\n            case Keys.ArrowDown:\n              return activateNextItem();\n            case Keys.Enter:\n              return selectActiveItem();\n            case Keys.Escape:\n              return cancel();\n            default:\n              clickedOutsideElement = true;\n          }\n        });\n\n        $document.on('mousedown', event => {\n          clickedOutsideElement = !$.contains(elem[0], event.target);\n        });\n      });\n\n      $items.on('scroll', _.throttle(() => {\n        scrollTop = $items.scrollTop();\n        updateView();\n      }, 10));\n\n      $canvas.on('mousemove', _.throttle(event => {\n        lastKnownMousePosition.x = event.pageX;\n        lastKnownMousePosition.y = event.pageY;\n      }, 50));\n\n      function detectItemHeight() {\n        const $sampleItem = $('<div class=\"ui-virtual-select--item\">Text</div>').hide().appendTo(\"body\");\n        const height = $sampleItem.outerHeight();\n        $sampleItem.remove();\n        return height;\n      }\n\n      function activatePreviousItem() {\n        const {itemHeight} = options;\n        const firstVisibleItem = Math.ceil((scrollTop + itemHeight) / itemHeight) - 1;\n        if (activeItemIndex > 0) {\n          activeItemIndex--;\n          updateView();\n          if (activeItemIndex < firstVisibleItem) {\n            scrollTo(Math.ceil(scrollTop / itemHeight) - 1);\n          }\n        }\n      }\n\n      function activateNextItem() {\n        const {itemHeight, itemsVisible} = options;\n        const lastVisibleItem = Math.floor((scrollTop + itemHeight) / itemHeight) + itemsVisible - 1;\n        if (activeItemIndex < uiVirtualSelectController.optionsProvider.size() - 1) {\n          activeItemIndex++;\n          updateView();\n          if (activeItemIndex >= lastVisibleItem) {\n            scrollTo(Math.floor(scrollTop / itemHeight) + 1);\n          }\n        }\n      }\n\n      function selectActiveItem() {\n        selectItem(activeItemIndex);\n      }\n\n      function cancel() {\n        clearSearchInput();\n        close();\n        activeItemIndex = 0;\n      }\n\n      function scrollTo(index) {\n        const {itemHeight} = options;\n        scrollTop = Math.max(0, index) * itemHeight;\n        $items.scrollTop(scrollTop);\n      }\n\n      function clearSearchInput(omitBlur) {\n        uiVirtualSelectController.optionsProvider.filter('');\n        $searchInput.val('');\n        if (!omitBlur) {\n          $searchInput.trigger('blur');\n        }\n      }\n\n      function indexOfItem(itemToFind) {\n        const {items, identity} = uiVirtualSelectController.optionsProvider;\n        return _.findIndex(items, item => identity(item) === identity(itemToFind));\n      }\n\n      function updateItemElements() {\n        const $itemSet = $canvas.children('.ui-virtual-select--item');\n        const $activeItem = $itemSet.filter('.active');\n        _itemModels.forEach((itemModel, index) => {\n          let $itemElement = $canvas.children('.ui-virtual-select--item').eq(index);\n          if ($itemElement.length === 0) {\n            $itemElement = $(document.createElement('div'))\n              .addClass('ui-virtual-select--item')\n              .appendTo($canvas)\n              .on('mousemove', event => {\n                const {x: previousX, y: previousY} = lastKnownMousePosition;\n                const {pageX: currentX, pageY: currentY} = event;\n                // workaround to prevent scripted scrolling from triggering mousemove events\n                if (currentX !== previousX || currentY !== previousY) {\n                  activeItemIndex = $(event.currentTarget).data('index');\n                  updateItemElements();\n                }\n              })\n              .on('click', event => {\n                selectItem($(event.currentTarget).data('index'));\n              });\n          }\n          const {identity: identityFn, displayText: displayTextFn} = uiVirtualSelectController.optionsProvider;\n          const {value: item, index: itemIndex} = itemModel;\n          const itemIdentity = identityFn(item);\n          if (itemIdentity !== $itemElement.data('identity')) {\n            $itemElement\n              .data('identity', itemIdentity)\n              .data('index', itemIndex)\n              .data('item', item)\n              .text(displayTextFn(item));\n          }\n          if (itemIndex === activeItemIndex && !$itemElement.hasClass('active')) {\n            $activeItem.removeClass('active');\n            $itemElement.addClass('active');\n          }\n        });\n\n        // remove unused elements\n        $canvas\n          .children('.ui-virtual-select--item')\n          .slice(_itemModels.length)\n          .remove();\n      }\n\n      function selectItem(index) {\n        const itemModel = _.find(_itemModels, itemModel => itemModel.index === index);\n        const item = itemModel.value;\n        scope.$apply(() => {\n          ngModelController.$setViewValue(item);\n          uiVirtualSelectController.selectedItem = item;\n          uiVirtualSelectController.onSelectCallback({\n            selection: item\n          });\n        });\n        clearSearchInput();\n        close();\n      }\n\n      function updateView() {\n        updateItemModels();\n        updateItemElements();\n        updateItemsElementSize();\n        updateCanvasElementSize();\n      }\n\n      function updateItemModels() {\n        const {itemHeight, itemsVisible, itemsRendered} = options;\n        const firstItem = Math.max(Math.floor(scrollTop / itemHeight) - itemsVisible, 0);\n        const items = uiVirtualSelectController.optionsProvider.get(firstItem, firstItem + itemsRendered);\n        _itemModels = items.map((value, index) => new ItemModel(value, firstItem + index));\n      }\n\n      function updateItemsElementSize() {\n        const {itemHeight, itemsVisible} = options;\n        const totalItemCount = uiVirtualSelectController.optionsProvider.size();\n        const itemsElementHeight = Math.min(itemsVisible, totalItemCount) * itemHeight;\n        $items.css({\n          'height': `${itemsElementHeight}px`\n        });\n      }\n\n      function updateCanvasElementSize() {\n        const {itemHeight, itemsVisible} = options;\n        const firstItem = Math.max(Math.floor(scrollTop / itemHeight) - itemsVisible, 0);\n        const totalItemCount = uiVirtualSelectController.optionsProvider.size();\n        const canvasElementMarginTop = firstItem * itemHeight;\n        const canvasElementHeight = totalItemCount * itemHeight - firstItem * itemHeight;\n        $canvas.css({\n          'height': `${canvasElementHeight}px`,\n          'margin-top': `${canvasElementMarginTop}px`\n        });\n      }\n\n      scope.$on('ui-virtual-select:focus', () => {\n        $searchInput.focus();\n      });\n\n      scope.$on('ui-virtual-select:load', () => {\n        doLoad();\n      });\n\n      function adjustScrollPosition() {\n        let scrollIndex = 0;\n        if (uiVirtualSelectController.selectedItem) {\n          scrollIndex = indexOfItem(uiVirtualSelectController.selectedItem);\n        }\n        activeItemIndex = scrollIndex;\n        updateView();\n        scrollTo(scrollIndex);\n      }\n\n      function close() {\n        $items.hide();\n        $select.removeClass('open');\n        uiVirtualSelectController.onCloseCallback();\n      }\n\n      function open() {\n        $items.show();\n        $select.addClass('open');\n      }\n\n      ngModelController.$render = () => {\n        uiVirtualSelectController.selectedItem = ngModelController.$viewValue;\n      };\n    }\n\n    return {\n      restrict: 'E',\n      require: ['uiVirtualSelect', 'ngModel'],\n      templateUrl: 'ui-virtual-select.tpl.html',\n      controller: controllerFn,\n      controllerAs: 'select',\n      transclude: true,\n      link: linkFn,\n      bindToController: true,\n      scope: {\n        optionsProvider: '=?uiOptionsProvider',\n        onSelectCallback: '&uiOnSelect',\n        onCloseCallback: '&uiOnClose',\n        onLoadedCallback: '&uiOnLoaded'\n      }\n    };\n  }]);\n","angular.module(\"uiVirtualSelect\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"ui-virtual-select.tpl.html\",\"<div class=\\\"ui-virtual-select\\\">\\n\t<input type=\\\"text\\\" class=\\\"ui-virtual-select--search-input\\\" placeholder=\\\"{{ select.formatSearchInput(select.selectedItem) }}\\\" />\\n\t<div class=\\\"ui-virtual-select--loading-indicator\\\">\\n\t\tLoading...\\n\t</div>\\n\t<div class=\\\"ui-virtual-select--items\\\">\\n\t\t<div class=\\\"ui-virtual-select--canvas\\\"></div>\\n\t</div>\\n</div>\");}]);"],"sourceRoot":"/source/"}